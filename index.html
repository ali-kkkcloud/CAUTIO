<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cautio Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div class="login-container">
            <div class="login-left">
                <div class="login-logo">
                    <div class="logo-circle">
                        <div class="shield-icon"></div>
                    </div>
                </div>
            </div>
            <div class="login-right">
                <div class="login-form-container">
                    <div class="login-header">
                        <div class="login-logo-small">
                            <div class="logo-small-circle">
                                <div class="shield-small"></div>
                            </div>
                        </div>
                        <h2>Sign in</h2>
                    </div>
                    <form class="login-form" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" placeholder="example@gmail.com" required>
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="password-input">
                                <input type="password" id="password" placeholder="Password" required>
                                <button type="button" class="password-toggle" onclick="togglePassword()">üëÅÔ∏è</button>
                            </div>
                        </div>
                        <div class="forgot-password">
                            <a href="#">Forgot Password?</a>
                        </div>
                        <button type="submit" class="login-btn">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Page -->
    <div class="loading-page" id="loadingPage" style="display: none;">
        <div class="loading-content">
            <div class="cautio-logo">
                <h1>cautio</h1>
            </div>
            <div class="loading-spinner-main"></div>
            <p class="loading-text">Loading your dashboard...</p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="main-app" id="mainApp" style="display: none;">
        <div class="container">
            <!-- Collapsed Sidebar -->
            <div class="sidebar-collapsed" id="sidebarCollapsed">
                <div class="logo-collapsed">
                    <h3>cautio</h3>
                </div>
                <div class="nav-icons">
                    <div class="nav-icon-item" data-tab="customer" onmouseover="showSidebarMenu(event, 'customer')">
                        <i class="icon">üë•</i>
                    </div>
                    <div class="nav-icon-item" data-tab="finance" onmouseover="showSidebarMenu(event, 'finance')">
                        <i class="icon">üí∞</i>
                    </div>
                    <div class="nav-icon-item" data-tab="ground" onmouseover="showSidebarMenu(event, 'ground')">
                        <i class="icon">üöõ</i>
                    </div>
                    <div class="nav-icon-item" data-tab="inventory" onmouseover="showSidebarMenu(event, 'inventory')">
                        <i class="icon">üì¶</i>
                    </div>
                </div>
            </div>

            <!-- Expanded Sidebar Menu -->
            <div class="sidebar-menu" id="sidebarMenu" onmouseleave="hideSidebarMenu()">
                <div class="sidebar-menu-content">
                    <div class="menu-header">
                        <h3>cautio</h3>
                        <div class="menu-label">MENU</div>
                    </div>
                    <div class="menu-items" id="menuItems">
                        <!-- Dynamic menu items will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Header -->
                <div class="header">
                    <div class="header-left">
                        <h1 id="pageTitle">COMMAND CENTER</h1>
                        <p id="pageSubtitle">Welcome to a world where vehicles speak - and you listen in.</p>
                    </div>
                    <div class="header-right">
                        <div class="search-container">
                            <input type="text" placeholder="Search for a vehicle" class="search-input">
                            <button class="search-btn">üîç</button>
                        </div>
                        <select class="group-selector">
                            <option>All Groups</option>
                        </select>
                        <button class="clear-btn">Clear</button>
                        <div class="user-profile" onclick="logout()">
                            <div class="user-avatar">üë§</div>
                        </div>
                    </div>
                </div>

                <!-- Dashboard Content -->
                <div class="dashboard" id="dashboard">
                    <!-- Data Loading -->
                    <div class="data-loading" id="dataLoading">
                        <div class="loading-spinner"></div>
                        <p>Loading data from Google Sheets...</p>
                    </div>

                    <!-- Customer Overview Section -->
                    <div class="dashboard-content" id="customerOverview" style="display: none;">
                        <!-- Main Dashboard -->
                        <div class="dashboard-view" id="mainDashboard">
                            <div class="card main-card" onclick="showLevel2()">
                                <div class="card-header">
                                    <h3>Total Customers</h3>
                                    <div class="card-count" id="totalCustomersCount">0</div>
                                </div>
                                <div class="card-body">
                                    <p>Click to view customer breakdown</p>
                                </div>
                            </div>
                        </div>

                        <!-- Level 2 Dashboard -->
                        <div class="dashboard-view" id="level2Dashboard" style="display: none;">
                            <div class="nav-breadcrumb">
                                <span onclick="showMainDashboard()" class="breadcrumb-link">Dashboard</span> 
                                <span class="breadcrumb-separator">></span> 
                                <span>Customer Overview</span>
                            </div>
                            
                            <div class="cards-grid">
                                <div class="card" onclick="showPOCTable()">
                                    <div class="card-header">
                                        <h3>POC</h3>
                                        <div class="card-count" id="pocCount">0</div>
                                    </div>
                                    <div class="card-body">
                                        <p>Proof of Concept customers</p>
                                    </div>
                                </div>

                                <div class="card" onclick="showOnboardedTable()">
                                    <div class="card-header">
                                        <h3>Onboarded</h3>
                                        <div class="card-count" id="onboardedCount">0</div>
                                    </div>
                                    <div class="card-body">
                                        <p>Successfully onboarded customers</p>
                                    </div>
                                </div>
                            </div>

                            <div class="closed-section" id="closedSection" style="display: none;">
                                <div class="card closed-card" onclick="showClosedPOCTable()">
                                    <div class="card-header">
                                        <h3>Closed POCs</h3>
                                        <div class="card-count" id="closedPOCCount">0</div>
                                    </div>
                                    <div class="card-body">
                                        <p>POCs that have ended</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Table View -->
                        <div class="dashboard-view" id="tableView" style="display: none;">
                            <div class="nav-breadcrumb" id="tableBreadcrumb">
                                <!-- Dynamic breadcrumb will be inserted here -->
                            </div>
                            
                            <div class="table-container">
                                <div class="table-header">
                                    <h3 id="tableTitle">Customer Data</h3>
                                    <div class="table-count">Total: <span id="tableCount">0</span></div>
                                </div>
                                <div class="table-wrapper">
                                    <table class="data-table" id="dataTable">
                                        <thead id="tableHead">
                                            <!-- Dynamic headers will be inserted here -->
                                        </thead>
                                        <tbody id="tableBody">
                                            <!-- Dynamic data will be inserted here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Finance Section -->
                    <div class="dashboard-content" id="financeSection" style="display: none;">
                        <div class="coming-soon">
                            <h2>Finance</h2>
                            <p>Financial data and analytics coming soon...</p>
                        </div>
                    </div>

                    <!-- Ground Operations Section -->
                    <div class="dashboard-content" id="groundSection" style="display: none;">
                        <div class="coming-soon">
                            <h2>Ground Operations</h2>
                            <p>Ground operations dashboard coming soon...</p>
                        </div>
                    </div>

                    <!-- Inventory Management Section -->
                    <div class="dashboard-content" id="inventorySection" style="display: none;">
                        <div class="coming-soon">
                            <h2>Inventory Management</h2>
                            <p>Inventory management system coming soon...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
